<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <title>OC Lernkarten ‚ú®</title>
    <style>
    :root { 
        --bg: #FCE4EC; 
        --primary: #d81b60; 
        --success: #27ae60; 
        --danger: #e74c3c; 
        --dark: #2c3e50; 
    }

    body { 
        font-family: 'Segoe UI', sans-serif; 
        background-color: var(--bg); 
        display: flex; 
        flex-direction: column; 
        align-items: center; 
        padding: 20px; 
        margin: 0; 
    }
    
    .setup-area { margin-bottom: 20px; background: white; padding: 15px 25px; border-radius: 12px; box-shadow: 0 4px 6px rgba(0,0,0,0.05); display: flex; flex-direction: column; align-items: center; gap: 10px; }
    select { padding: 10px; border-radius: 6px; border: 1px solid #ddd; font-size: 16px; width: 300px; cursor: pointer; }
    .container { width: 100%; max-width: 650px; text-align: center; }
    .card-container { perspective: 1000px; margin-bottom: 25px; }
    .card { background-color: white; border-radius: 20px; box-shadow: 0 10px 25px rgba(0,0,0,0.1); height: 420px; cursor: pointer; transform-style: preserve-3d; transition: transform 0.6s cubic-bezier(0.4, 0, 0.2, 1); position: relative; }
    .card.flipped { transform: rotateY(180deg); }
    .card-face { position: absolute; width: 100%; height: 100%; backface-visibility: hidden; display: flex; flex-direction: column; align-items: center; justify-content: center; padding: 35px; box-sizing: border-box; border-radius: 20px; }
    .front { border: 4px solid var(--primary); color: var(--dark); font-size: 1.3em; font-weight: bold; }
    .back { background-color: var(--primary); color: white; transform: rotateY(180deg); font-size: 1.1em; line-height: 1.5; text-align: center; }
    img { max-width: 100%; max-height: 200px; margin-top: 10px; border-radius: 8px; background: white; padding: 5px; }
    .score-buttons { display: flex; justify-content: center; gap: 15px; }
    button { padding: 14px 24px; border: none; border-radius: 10px; cursor: pointer; font-weight: bold; font-size: 16px; transition: all 0.2s; }
    .btn-green { background-color: var(--success); color: white; flex: 1; }
    .btn-red { background-color: var(--danger); color: white; flex: 1; }
    .stats { margin-top: 25px; display: grid; grid-template-columns: 1fr 1fr; gap: 10px; background: white; padding: 15px; border-radius: 12px; }
    </style>
</head>
<body>

<div class="setup-area">
    <strong>Klausur-Kapitel w√§hlen:</strong>
    <select id="categorySelect" onchange="restartLearning()">
        <option value="Alle">Gesamter Stoff (Alle Karten)</option>
        <option value="Grundlagen">1. Grundlagen, Orbitale & Alkane</option>
        <option value="Alkene">2. Alkene, Alkyne & Radikale</option>
        <option value="Aromaten">3. Aromaten & Heterocyclen</option>
        <option value="Stereochemie">4. Stereochemie & Chiralit√§t</option>
        <option value="Carbonyl">5. Carbonyl, S√§uren & Amine</option>
        <option value="Naturstoffe">6. Naturstoffe & Polymere</option>
        <option value="Aminos√§uren">7. Aminos√§uren</option>
    </select>
    <button onclick="restartLearning()" style="font-size: 12px; margin-top:5px; background: #999; color: white;">Stapel neu mischen</button>
</div>

<div class="container">
    <div id="learning-area">
        <div class="card-container">
            <div class="card" id="flashcard" onclick="this.classList.toggle('flipped')">
                <div class="card-face front" id="q">Frage</div>
                <div class="card-face back" id="a">Antwort</div>
            </div>
        </div>
        <div class="score-buttons">
            <button class="btn-red" onclick="markUnknown()">Nochmal ‚ùå</button>
            <button class="btn-green" onclick="markKnown()">Gewusst ‚úÖ</button>
        </div>
    </div>
    <div id="finished-area" style="display:none; background:white; padding:40px; border-radius:20px;">
        <h2>üéâ Kapitel gemeistert!</h2>
        <button class="btn-green" onclick="restartLearning()">Neustart</button>
    </div>
    <div class="stats">
        <div style="text-align:center"><span>Offen:</span><br><span id="todoVal" style="font-size:1.5em; font-weight:bold; color:var(--primary)">0</span></div>
        <div style="text-align:center"><span>Gelernt:</span><br><span id="doneVal" style="font-size:1.5em; font-weight:bold; color:var(--success)">0</span></div>
    </div>
</div>

<script>
const allCards = [
    { cat: "Grundlagen", q: "Hybridisierung im Methan?", a: "sp3 (tetraedrisch, 109,5¬∞)." },
    { cat: "Grundlagen", q: "Hybridisierung im Ethen?", a: "sp2 (trigonal-planar, 120¬∞)." },
    { cat: "Grundlagen", q: "Hybridisierung im Ethin?", a: "sp (linear, 180¬∞)." },
    { cat: "Grundlagen", q: "Stabilit√§tsreihenfolge von Radikalen?", a: "Terti√§r > Sekund√§r > Prim√§r > Methyl." },
    { cat: "Grundlagen", q: "Sesselkonformation: Axial vs. √Ñquatorial?", a: "Substituenten stehen bevorzugt √§quatorial." },
    
    { cat: "Alkene", q: "Regel von Markownikow?", a: "H addiert an das C mit den meisten H-Atomen." },
    { cat: "Alkene", q: "Bromierung von Alkenen: Mechanismus?", a: "Anti-Addition √ºber ein zyklisches Bromonium-Ion." },
    { cat: "Alkene", q: "Priorit√§ten nach Ordnungszahl", a: "I > Br > Cl > S > P > O > N > C > H" },
    { cat: "Alkene", q: "Wof√ºr stehen E und Z?", a: "(Z) Zusammen: gleiche Seite<br>(E) Entgegen: gegen√ºberliegende Seite" },

    { cat: "Aromaten", q: "H√ºckel-Regel Kriterien?", a: "1. Zyklisch, 2. Planar, 3. Konjugiert, 4. 4n+2 Pi-Elektronen." },
    { cat: "Aromaten", q: "Wirkung der -NO2 Gruppe?", a: "-M/-I Effekt, desaktivierend, meta-dirigierend." },
    { cat: "Aromaten", q: "Halogene am Benzol?", a: "Desaktivierend, aber ortho/para-dirigierend." },

    { cat: "Stereochemie", q: "Definition Enantiomere?", a: "Bild und Spiegelbild, nicht deckungsgleich." },
    { cat: "Stereochemie", q: "Was ist ein Racemat?", a: "1:1-Mischung zweier Enantiomere." },

    { cat: "Carbonyl", q: "Oxidation prim√§rer Alkohole?", a: "Aldehyd -> Carbons√§ure." },
    { cat: "Carbonyl", q: "Fischer-Veresterung?", a: "S√§ure + Alkohol + Kat. <-> Ester + Wasser." },

    { cat: "Naturstoffe", q: "Peptidbindung?", a: "Amidbindung zwischen -COOH und -NH2 zweier Aminos√§uren." },
    { cat: "Naturstoffe", q: "Unterschied St√§rke und Cellulose?", a: "St√§rke: alpha-1,4; Cellulose: beta-1,4-Verkn√ºpfung." },
    { cat: "Naturstoffe", q: "Isopren-Einheit?", a: "2-Methyl-1,3-butadien." },
    { cat: "Naturstoffe", q: "Wichtige Monomere: Styrol, Vinylchlorid?", a: "Ergeben Polystyrol (PS) und Polyvinylchlorid (PVC)." },

    // --- AMINOS√ÑUREN (Kategorie angepasst f√ºr Filter) ---
    { cat: "Aminos√§uren", q: "Glycin (Gly, G)", a: "Einfachste AS (achiral). Rest: -H<br><img src='https://upload.wikimedia.org/wikipedia/commons/thumb/c/c1/Glycine_structure.svg/200px-Glycine_structure.svg.png'>" },
    { cat: "Aminos√§uren", q: "Alanin (Ala, A)", a: "Rest: Methyl (-CH3)<br><img src='https://upload.wikimedia.org/wikipedia/commons/thumb/b/b9/L-Alanine_structure.svg/200px-L-Alanine_structure.svg.png'>" },
    { cat: "Aminos√§uren", q: "Valin (Val, V)", a: "Rest: Isopropyl<br><img src='https://upload.wikimedia.org/wikipedia/commons/thumb/8/8e/L-Valine_structure.svg/200px-L-Valine_structure.svg.png'>" },
    { cat: "Aminos√§uren", q: "Cystein (Cys, C)", a: "Rest: -CH2-SH<br><img src='https://upload.wikimedia.org/wikipedia/commons/thumb/1/1d/L-Cysteine_structure.svg/200px-L-Cysteine_structure.svg.png'>" },
    { cat: "Aminos√§uren", q: "Phenylalanin (Phe, F)", a: "Rest: Benzylgruppe<br><img src='https://upload.wikimedia.org/wikipedia/commons/thumb/9/93/L-Phenylalanine_structure.svg/200px-L-Phenylalanine_structure.svg.png'>" },
    { cat: "Aminos√§uren", q: "Asparagins√§ure (Asp, D)", a: "Sauer. Rest: -CH2-COOH<br><img src='https://upload.wikimedia.org/wikipedia/commons/thumb/6/67/L-Aspartic_acid_structure.svg/200px-L-Aspartic_acid_structure.svg.png'>" },
    { cat: "Aminos√§uren", q: "Lysin (Lys, K)", a: "Basisch. Rest: -(CH2)4-NH2<br><img src='https://upload.wikimedia.org/wikipedia/commons/thumb/1/14/L-Lysine_structure.svg/200px-L-Lysine_structure.svg.png'>" }
];

let workingDeck = [];
let finishedCount = 0;
let idx = 0;

function restartLearning() {
    const cat = document.getElementById('categorySelect').value;
    const baseDeck = cat === "Alle" ? allCards : allCards.filter(c => c.cat === cat);
    workingDeck = [...baseDeck].sort(() => Math.random() - 0.5);
    finishedCount = 0; idx = 0;
    document.getElementById('learning-area').style.display = 'block';
    document.getElementById('finished-area').style.display = 'none';
    update();
}

function update() {
    const card = document.getElementById('flashcard');
    card.classList.remove('flipped');
    if(workingDeck.length > 0) {
        document.getElementById('q').innerHTML = workingDeck[idx].q;
        document.getElementById('a').innerHTML = workingDeck[idx].a;
    } else {
        document.getElementById('learning-area').style.display = 'none';
        document.getElementById('finished-area').style.display = 'block';
    }
    document.getElementById('todoVal').innerText = workingDeck.length;
    document.getElementById('doneVal').innerText = finishedCount;
}

function markKnown() {
    if(workingDeck.length === 0) return;
    workingDeck.splice(idx, 1);
    finishedCount++;
    if (idx >= workingDeck.length) idx = 0;
    update();
}

function markUnknown() {
    if(workingDeck.length === 0) return;
    idx = (idx + 1) % workingDeck.length;
    update();
}

restartLearning();
</script>
</body>
</html>
